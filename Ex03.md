# Ex. No : 3	
# RECOGNITION OF A VALID ARITHMETIC EXPRESSION THAT USES
## Register Number :212223240083
## Date : 28-04-2024

## AIM   
To write a yacc program to recognize a valid arithmetic expression that uses operator +,- ,* and /.

## ALGORITHM
1.	Start the program.
2.	Write a program in the vi editor and save it with .l extension.
3.	In the lex program, write the translation rules for the operators =,+,-,*,/ and for the identifier.
4.	Write a program in the vi editor and save it with .y extension.
5.	Compile the lex program with lex compiler to produce output file as lex.yy.c. eg $ lex filename.l
6.	Compile the yacc program with yacc compiler to produce output file as y.tab.c. eg $ yacc â€“d arith_id.y
7.	Compile these with the C compiler as gcc lex.yy.c y.tab.c
8.	Enter an arithmetic expression as input and the tokens are identified as output.

## PROGRAM:
```
#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <string.h>

int isValidExpression(const char *expr) {
    int i, len = strlen(expr);
    int balance = 0;  // To check balance of parentheses
    int lastWasOperator = 1;  // True if last character was an operator or '('
    
    for (i = 0; i < len; i++) {
        char ch = expr[i];

        // Check for digits
        if (isdigit(ch)) {
            lastWasOperator = 0;  // We just found a number
        } 
        // Check for operators
        else if (ch == '+' || ch == '-' || ch == '*' || ch == '/') {
            if (lastWasOperator) return 0;  // Invalid if two operators in a row
            lastWasOperator = 1;  // Last was an operator
        } 
        // Check for parentheses
        else if (ch == '(') {
            balance++;
            lastWasOperator = 1;  // Opening a parenthesis means expecting an operand
        } 
        else if (ch == ')') {
            if (balance == 0 || lastWasOperator) return 0;  // Unmatched parenthesis or last was an operator
            balance--;
            lastWasOperator = 0;  // After closing parenthesis, expect an operator or end
        } 
        // Invalid character
        else {
            return 0;
        }
    }
    
    // At the end, must not end with an operator and must have balanced parentheses
    return !lastWasOperator && (balance == 0);
}

int main() {
    char expression[100];

    printf("Enter an arithmetic expression: ");
    fgets(expression, sizeof(expression), stdin);
    
    // Remove newline character if present
    expression[strcspn(expression, "\n")] = 0;

    if (isValidExpression(expression)) {
        printf("The expression is valid.\n");
    } else {
        printf("The expression is invalid.\n");
    }

    return 0;
}

```

## OUTPUT:
![image](https://github.com/user-attachments/assets/8b24c66c-0673-4760-af25-86c4ec59593b)

## RESULT
A YACC program to recognize a valid arithmetic expression that uses operator +,-,* and / is executed successfully and the output is verified.
